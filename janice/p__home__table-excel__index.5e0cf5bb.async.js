(self.webpackChunkjanice=self.webpackChunkjanice||[]).push([[556],{752:function(Kt,Y,e){"use strict";e.r(Y),e.d(Y,{default:function(){return it}});var O=e(26713),A=e(72806),xe=e(97857),s=e.n(xe),Ce=e(13769),Fe=e.n(Ce),U=e(71724),ge=e(94184),je=e.n(ge),t=e(85893),Se=["className","tabBarExtraContentRight"],Ee="biz-page-container",Be=function(u){var o,c=u.className,y=u.tabBarExtraContentRight,j=Fe()(u,Se),b={left:(0,t.jsx)(U.H_,{}),right:y};return(0,t.jsx)(U.ZP,s()({title:!1,breadcrumb:{},tabBarExtraContent:b,className:je()(Ee,c,{"has-tabs":(o=j.tabList)===null||o===void 0?void 0:o.length})},j))},be=e(96695),De=e.n(be),Ze=e(19632),z=e.n(Ze),Te=e(15009),G=e.n(Te),Ae=e(99289),Pe=e.n(Ae),Ie=e(9783),J=e.n(Ie),ze=e(5574),p=e.n(ze),x=e(67294),Q=e(6880),ke=e(13448),He=e(79531),V=e(77939),X=e(12461),Oe=e(13013),Ke=e(2771),w=e(29235),Me=e(7113),Re=e(91560),q=e(67065),Le=e(66485),Ne=e.n(Le),We=e(27484),$e=e.n(We),Ye=e(37763),Ue=e.n(Ye),Ge=e(53667),Je=e.n(Ge),_=e(68795),ee=e(64082),Qe=e(81822),Ve=function(u,o){if(!u)return"0 Bytes";var c=1024,y=o||2,j=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],b=Math.floor(Math.log(u)/Math.log(c));return parseFloat((u/Math.pow(c,b)).toFixed(y))+" "+j[b]},Xe=function(u){return u.replace(/(^\s*)|(\s*$)/g,"")},we=e(61227),qe=e.n(we),te={title:"\u5E8F\u53F7",dataIndex:"xh",key:"xh",align:"center",ellipsis:!0,render:function(u,o,c){return c+1}},F=[{title:"\u578B\u53F7",key:"model"},{title:"\u6570\u91CF",key:"number"},{title:"\u54C1\u724C",key:"brand"},{title:"\u5355\u4EF7",key:"price"},{title:"\u91CD\u590D\u6B21\u6570",key:"frequency"}],_e=["10","5","10","5","5"],et=[{title:"\u578B\u53F7",dataIndex:"model",key:"model",align:"center",ellipsis:!0},{title:"\u6570\u91CF",dataIndex:"number",key:"number",align:"center",ellipsis:!0},{title:"\u54C1\u724C",dataIndex:"brand",key:"brand",align:"center",ellipsis:!0},{title:"\u5355\u4EF7",dataIndex:"price",key:"price",align:"center",ellipsis:!0},{title:"\u91CD\u590D\u6B21\u6570",dataIndex:"frequency",key:"frequency",align:"center",ellipsis:!0}],tt=["1\u3001\u4E0A\u4F20\u8868\u683C\u6570\u636E\u662F\u5BFC\u5165\u7684\u8868\u683C\u6570\u636E\uFF0C\u4EC5\u9650\u67E5\u770B\u5BFC\u5165\u7684\u6570\u636E\u5185\u5BB9.","2\u3001\u6C47\u603B\u7EDF\u8BA1\u8868\u683C\u6570\u636E\u662F\u901A\u8FC7\u3010\u578B\u53F7\u3011\u53BB\u91CD\u540E\uFF0C\u5C06\u3010\u6570\u91CF\u3011\u76F8\u52A0\u540E\u7684\u6570\u636E\u5185\u5BB9\uFF0C\u53EF\u5BFC\u51FA.","3\u3001\u8868\u683C\u5185\u6392\u5E8F\u3001\u641C\u7D22\u529F\u80FD\u4EC5\u9650\u67E5\u770B\uFF0C\u4E0D\u652F\u6301\u5BFC\u51FA","4\u3001\u8868\u683C\u5185\u652F\u6301\u70B9\u51FB\u590D\u5236\u64CD\u4F5C.","5\u3001\u5BFC\u51FA\u6309\u94AE\u652F\u6301\u6570\u91CF\u3001\u91CD\u590D\u6B21\u6570\u6392\u5E8F\u5BFC\u51FA."],nt=function(u,o){var c=qe()(o),y=c[0],j=c.slice(1),b=u.map(function(k){return s()(s()({},k),{},{ellipsis:!0,title:y[k.key],sorter:function(R,M){return R[k.key]-M[k.key]}})});return{newCols:b,tableDatas:j}},at=function(u){for(var o=!0,c=u.map(function(j){return j.title}),y=0;y<F.length-1;y++)if(c.includes(F[y].title))o=!0;else{o=!1;break}return o},g=Q.Z.Text,rt=Q.Z.Title,lt="statistics-table",st=function(){var u=(0,x.useState)(!1),o=p()(u,2),c=o[0],y=o[1],j=(0,x.useState)(!1),b=p()(j,2),k=b[0],K=b[1],R=(0,x.useState)([]),M=p()(R,2),ct=M[0],dt=M[1],ft=(0,x.useState)([]),ne=p()(ft,2),vt=ne[0],yt=ne[1],ht=(0,x.useState)([]),ae=p()(ht,2),I=ae[0],mt=ae[1],pt=(0,x.useState)([]),re=p()(pt,2),le=re[0],xt=re[1],Ct=(0,x.useState)(),se=p()(Ct,2),S=se[0],Ft=se[1],gt=(0,x.useState)("1"),ue=p()(gt,2),oe=ue[0],jt=ue[1],St=(0,x.useState)(""),ie=p()(St,2),Et=ie[0],L=ie[1],Bt=(0,x.useState)(""),ce=p()(Bt,2),bt=ce[0],de=ce[1],fe=(0,x.useRef)(null),ve=function(n,i,a){i(),L(n[0]),de(a)},Dt=function(n){n(),L("")},Zt=function(n){Ne()(n),ke.Z.success({message:"\u590D\u5236\u6210\u529F",description:n})},ye=function(n){return{filterDropdown:function(a){var r=a.setSelectedKeys,d=a.selectedKeys,E=a.confirm,l=a.clearFilters,D=a.close;return(0,t.jsxs)("div",{style:{padding:8},onKeyDown:function(f){return f.stopPropagation()},children:[(0,t.jsx)(He.Z,{ref:fe,placeholder:"\u641C\u7D22 ".concat(n.title),value:d[0],onChange:function(f){return r(f.target.value?[f.target.value]:[])},onPressEnter:function(){return ve(d,E,n.dataIndex)},style:{marginBottom:8,display:"block"}}),(0,t.jsxs)(O.Z,{children:[(0,t.jsx)(A.Z,{type:"primary",onClick:function(){return ve(d,E,n.dataIndex)},icon:(0,t.jsx)(_.Z,{}),size:"small",style:{width:90},children:"\u641C\u7D22"}),(0,t.jsx)(A.Z,{onClick:function(){return l&&Dt(l)},size:"small",style:{width:90},children:"\u91CD\u7F6E"}),(0,t.jsx)(A.Z,{type:"link",size:"small",onClick:function(){E({closeDropdown:!1}),L(d[0]),de(n.dataIndex)},children:"\u8FC7\u6EE4"}),(0,t.jsx)(A.Z,{type:"link",size:"small",onClick:function(){D()},children:"\u5173\u95ED"})]})]})},filterIcon:function(a){return(0,t.jsx)(_.Z,{style:{color:a?"red":void 0}})},onFilter:function(a,r){if(r[n.dataIndex])return r[n.dataIndex].toString().toLowerCase().includes(a.toLowerCase())},onFilterDropdownOpenChange:function(a){a&&setTimeout(function(){var r;return(r=fe.current)===null||r===void 0?void 0:r.select()},100)},render:function(a){return bt===n.dataIndex?(0,t.jsx)(Ue(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[Et],autoEscape:!0,textToHighlight:a?a.toString():""}):(0,t.jsx)(V.Z,{title:"\u70B9\u51FB\u590D\u5236",onClick:function(){return Zt(a)},children:a})}}},Tt=function(n,i){var a=i.reduce(function(r,d,E){for(var l={key:E.toString()},D=function(B){if(F[B].key==="frequency")l=s()(s()({},l),{},J()({},F[B].key,1));else{var H=n.find(function(h){return Xe(h.title||"")===F[B].title});l=s()(s()({},l),{},J()({},F[B].key,H?d[H.dataIndex]:""))}},v=0;v<F.length;v++)D(v);if(l.model){var f=r.find(function(Z){return l.number&&Z.model===l.model});l.number||(l.number=0),f?(f.number+=l.number,f.frequency++):r.push(l)}return r},[]);return a},At={name:"\u5BFC\u5165\u8868\u683C",multiple:!1,accept:".xlsx,.xls",fileList:[],beforeUpload:function(){var m=Pe()(G()().mark(function i(a){return G()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:K(!0),(0,Qe.parseFile)({file:a}).then(function(E){var l=E.tables[0],D=l.dataSource,v=l.columns,f=nt(v,D),Z=f.newCols,B=f.tableDatas,H=at(Z);if(!H){X.ZP.info("\u4E0A\u4F20\u8868\u5934\u5FC5\u987B\u5305\u542B".concat(F.slice(0,4).map(function(C){return C.title}).join())),K(!1);return}var h=Z.map(function(C){return s()(s()({},C),ye(C))}),T=et.map(function(C){return s()(s()(s()({},C),ye(C)),{},{sorter:function($,Ot){return $[C.key]-Ot[C.key]}})}),N=Tt(h,B);yt(T),dt(h),xt(B),mt(N),Ft(a),K(!1),X.ZP.success("\u6587\u4EF6\u4E0A\u4F20\u89E3\u6790\u6210\u529F")});case 2:case"end":return d.stop()}},i)}));function n(i){return m.apply(this,arguments)}return n}()},he=function(n){var i={},a=[],r=z()(I);n&&(n.sortType==="rise"?r=z()(I.sort(function(h,T){return h[n.type]-T[n.type]})):n.sortType==="drop"?r=z()(I.sort(function(h,T){return T[n.type]-h[n.type]})):r=z()(I));var d=De()(r),E;try{for(d.s();!(E=d.n()).done;){for(var l=E.value,D={},v=function(){var T=p()(Z[f],2),N=T[0],C=T[1],W=F.find(function($){return $.key===N});W&&(D[W.title]=C)},f=0,Z=Object.entries(l);f<Z.length;f++)v();a.push(D)}}catch(h){d.e(h)}finally{d.f()}var B=F.map(function(h){return h.title});i.fileName="\u7EDF\u8BA1\u540E - ".concat(S.name.split(".")[0]),i.datas=[{sheetData:a,sheetName:"sheet",sheetFilter:B,sheetHeader:B,columnWidths:_e}];var H=new(Je())(i);H.saveExcel()},Pt=function(){return(0,t.jsxs)(O.Z,{children:[(0,t.jsx)(V.Z,{title:"\u6587\u4EF6",children:(0,t.jsxs)(g,{type:"success",children:["\u6570\u636E\u603B\u6570\uFF1A",(0,t.jsx)(g,{type:"danger",children:le.length})," \u6761"]})}),(0,t.jsxs)(g,{type:"success",children:["\u6C47\u603B\u540E\u603B\u6570\uFF1A",(0,t.jsx)(g,{type:"danger",children:I.length})," \u6761"]}),(0,t.jsxs)(g,{type:"success",children:["\u4E0A\u4F20\u6587\u4EF6\u540D\u79F0\uFF1A",(0,t.jsx)(g,{type:"danger",children:S==null?void 0:S.name})]}),(0,t.jsxs)(g,{type:"success",children:["\u4E0A\u4F20\u6587\u4EF6\u5927\u5C0F\uFF1A",(0,t.jsx)(g,{type:"danger",children:Ve(S==null?void 0:S.size)})]}),(0,t.jsxs)(g,{type:"success",children:["\u4E0A\u4F20\u7684\u6587\u6863\uFF0C\u6700\u540E\u7684\u4FEE\u6539\u65F6\u95F4\uFF1A",(0,t.jsx)(g,{type:"danger",children:$e()(S==null?void 0:S.lastModified).format("YYYY-MM-DD HH:mm:ss")})]})]})},me=[{key:"1",label:"\u6309\u6570\u91CF\u5347\u5E8F\u5BFC\u51FA",sortType:"rise",type:"number"},{key:"2",label:"\u6309\u6570\u91CF\u964D\u5E8F\u5BFC\u51FA",sortType:"drop",type:"number"},{key:"3",label:"\u6309\u91CD\u590D\u6B21\u6570\u5347\u5E8F\u5BFC\u51FA",sortType:"rise",type:"frequency"},{key:"4",label:"\u6309\u91CD\u590D\u6B21\u6570\u964D\u5E8F\u5BFC\u51FA",sortType:"drop",type:"frequency"}],It=function(n){var i=me.find(function(a){return a.key===n.key});he(i)},zt={1:null,2:(0,t.jsx)(Oe.Z.Button,{size:"small",type:"primary",disabled:!I.length,onClick:he,menu:{items:me,onClick:It},children:"\u6C47\u603B\u7EDF\u8BA1\u8868\u683C\u6570\u636E\u5BFC\u51FA"})},kt={left:null,right:(0,t.jsxs)(O.Z,{children:[(0,t.jsx)(Ke.Z,s()(s()({},At),{},{children:(0,t.jsx)(A.Z,{size:"small",icon:(0,t.jsx)(ee.Z,{}),type:"primary",children:"\u5BFC\u5165\u8868\u683C"},"dr")}),"import"),zt[oe],(0,t.jsx)(A.Z,{size:"small",icon:(0,t.jsx)(ee.Z,{}),type:"primary",onClick:function(){return y(!0)},children:"\u8868\u683C\u7EDF\u8BA1\u529F\u80FD-\u8BF4\u660E"},"dr-sm")]})},pe={bordered:!0,loading:k,size:"middle",scroll:{y:620},pagination:!1,footer:Pt},Ht=[{label:"\u4E0A\u4F20\u8868\u683C\u6570\u636E",key:"1",children:(0,t.jsx)(w.Z,s()(s()({},pe),{},{columns:[te].concat(z()(ct)),dataSource:le}))},{label:"\u6C47\u603B\u7EDF\u8BA1\u8868\u683C\u6570\u636E",key:"2",children:(0,t.jsx)(w.Z,s()(s()({},pe),{},{columns:[te].concat(z()(vt)),dataSource:I}))}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Me.Z,{className:"".concat(lt,"-tabs"),activeKey:oe,onChange:jt,items:Ht,tabBarExtraContent:kt}),(0,t.jsx)(Re.Z,{title:"\u8868\u683C\u7EDF\u8BA1\u529F\u80FD-\u8BF4\u660E",placement:"right",onClose:function(){return y(!1)},open:c,children:(0,t.jsx)(q.ZP,{size:"large",header:(0,t.jsx)(rt,{level:3,children:"\u8868\u683C\u7EDF\u8BA1\u529F\u80FD\u4F7F\u7528\u65B9\u6CD5"}),bordered:!0,dataSource:tt,renderItem:function(n){return(0,t.jsx)(q.ZP.Item,{children:n})}})})]})},ut=st,ot=function(){var u=function(){window.open("https://1069080359.github.io/Janice/#/","_blank")},o={left:null,right:(0,t.jsx)(O.Z,{children:(0,t.jsx)(A.Z,{size:"small",type:"primary",onClick:u,children:"\u539F\u8868\u683C\u7EDF\u8BA1\u7F51\u7AD9"},"dr")})},c=[{tab:"\u8868\u683C\u7EDF\u8BA1\u529F\u80FD",key:"1",children:(0,t.jsx)(ut,{})}];return(0,t.jsx)(Be,{tabList:c,tabBarExtraContent:o})},it=ot},55118:function(){},52642:function(){},76213:function(){},35693:function(){},18325:function(){}}]);
